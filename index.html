<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NEXUS ¬∑ Ranking Command Center</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Syne:wght@400;600;700;800&family=JetBrains+Mono:wght@400;500;700&family=Inter:wght@300;400;500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="assets/style.css">
  <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
<div class="app-shell" id="appShell">

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       SIDEBAR
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <aside class="sidebar" id="sidebar">
    <button class="sidebar-toggle" id="sidebarToggle" title="Toggle sidebar">‚óÄ</button>

    <div class="logo">NEXUS</div>
    <div class="logo-sub">Ranking Command</div>

    <div class="sidebar-nav">
      <div class="sidebar-section">Main Views</div>
      <a class="nav-item active" data-panel="dashboard" onclick="switchPanel('dashboard');return false" href="#">
        <span class="nav-icon">üìä</span><span class="nav-label">Dashboard</span>
      </a>
      <a class="nav-item" data-panel="charts" onclick="switchPanel('charts');return false" href="#">
        <span class="nav-icon">üìà</span><span class="nav-label">Charts & Analytics</span>
      </a>

      <div class="sidebar-divider"></div>
      <div class="sidebar-section">Rankings</div>
      <a class="nav-item" data-panel="global" onclick="switchPanel('global');return false" href="#">
        <span class="nav-icon">üåê</span><span class="nav-label">Global Ranking</span>
      </a>
      <a class="nav-item" data-panel="region" onclick="switchPanel('region');return false" href="#">
        <span class="nav-icon">üó∫</span><span class="nav-label">Regional Ranking</span>
      </a>

      <div class="sidebar-divider"></div>
      <div class="sidebar-section">Tools</div>
      <a class="nav-item" data-panel="predictor" onclick="switchPanel('predictor');return false" href="#">
        <span class="nav-icon">‚ö°</span><span class="nav-label">Points Diff</span>
      </a>
      <a class="nav-item" data-panel="legends" onclick="switchPanel('legends');return false" href="#">
        <span class="nav-icon">üëë</span><span class="nav-label">Legends Hall</span>
      </a>
      <a class="nav-item" data-panel="pro-analyses" onclick="switchPanel('pro-analyses');return false" href="#">
        <span class="nav-icon">üéØ</span><span class="nav-label">Pro Analyses</span>
      </a>

      <div class="sidebar-divider"></div>
      <div class="sidebar-section">Intelligence</div>
      <a class="nav-item" data-panel="analysis-vrs" onclick="switchPanel('analysis-vrs');return false" href="#">
        <span class="nav-icon">üß†</span><span class="nav-label">VRS Analysis</span>
      </a>
      <a class="nav-item" data-panel="analysis-hltv" onclick="switchPanel('analysis-hltv');return false" href="#">
        <span class="nav-icon">üî¨</span><span class="nav-label">Data Insights</span>
      </a>
      <a class="nav-item" data-panel="h2h" onclick="switchPanel('h2h');return false" href="#">
        <span class="nav-icon">‚öîÔ∏è</span><span class="nav-label">H2H Analysis</span>
      </a>

      <div class="sidebar-divider"></div>
      <div class="side-stat">
        <div class="side-pill"><span class="side-pill-label">Teams</span><span class="side-pill-value" id="sideTeams">‚Äî</span></div>
        <div class="side-pill"><span class="side-pill-label">Risers</span><span class="side-pill-value up" id="sideUp">‚Äî</span></div>
        <div class="side-pill"><span class="side-pill-label">Fallers</span><span class="side-pill-value down" id="sideDown">‚Äî</span></div>
      </div>

      <div class="sidebar-divider"></div>
      <a class="nav-item" href="index.html"><span class="nav-icon">‚Üê</span><span class="nav-label">Back to Menu</span></a>
    </div>

    <div class="sidebar-footer">
      <div class="sidebar-footer-text">NEXUS ¬∑ KZ Studio ¬∑ by Kilzys</div>
      <div class="sidebar-footer-text" style="margin-top:2px; color:var(--muted2)">Local processing ¬∑ No API</div>
    </div>
  </aside>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
       MAIN CONTENT
  ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <main class="main">

    <!-- Top bar -->
    <div class="top-bar">
      <div>
        <div class="page-title" id="pageTitle">Dashboard</div>
        <div class="page-sub">NEXUS Ranking Command Center ¬∑ Unified View</div>
      </div>
      <div class="top-bar-actions">
        <button class="btn btn-ghost" id="btnReloadOld">‚Ü∫ Reload Old</button>
        <button class="btn btn-ghost" id="btnReloadNew">‚Ü∫ Reload New</button>
        <button class="btn btn-primary" id="btnCompare">‚ü≥ Compare</button>
        <button class="btn btn-ghost" id="btnDownloadCsv" disabled>‚Üì CSV</button>
      </div>
    </div>

    <!-- Panels container -->
    <div class="panels">

      <!-- Status (always visible) -->
      <div style="display:flex; align-items:center; gap:12px; flex-wrap:wrap;">
        <div class="status-bar" style="flex:1; min-width:200px;">
          <div class="status-dot loading" id="statusDot"></div>
          <span id="statusText">Loading files automatically‚Ä¶</span>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           DASHBOARD
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel active" id="panel-dashboard">

        <div class="stats-row" id="statsRow" style="display:none">
          <div class="stat-pill"><span class="stat-label">Teams</span><span class="stat-value" id="countTeams">0</span></div>
          <div class="stat-pill"><span class="stat-label">Top Team</span><span class="stat-value" id="countTop" style="font-size:14px">‚Äî</span></div>
          <div class="stat-pill"><span class="stat-label">Avg Pts</span><span class="stat-value" id="countAvg">0</span></div>
          <div class="stat-pill"><span class="stat-label">Risers</span><span class="stat-value up" id="countUp">0</span></div>
          <div class="stat-pill"><span class="stat-label">Fallers</span><span class="stat-value down" id="countDown">0</span></div>
          <div class="stat-pill"><span class="stat-label">No Change</span><span class="stat-value" id="countFlat">0</span></div>
          <div class="stat-pill"><span class="stat-label">New</span><span class="stat-value warn" id="countNew">0</span></div>
        </div>

        <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px">
          <div class="card">
            <div class="card-header">
              <div><div class="card-title">Region Overview</div><div class="card-subtitle">avg by selected metric</div></div>
              <select id="dashMetric" class="form-control" style="min-width:130px">
                <option value="Points">Points</option>
                <option value="Victories">Victories</option>
                <option value="Streak">Streak</option>
                <option value="Loses">Loses</option>
                <option value="Prestige">Prestige</option>
                <option value="Majors">Majors</option>
                <option value="Tournaments Trophies">Trophies</option>
              </select>
            </div>
            <div class="card-body chart-wrap">
              <div class="state" id="regionChartState"><span class="spinner"></span>Loading‚Ä¶</div>
              <canvas id="regionChart" style="display:none; max-height:220px"></canvas>
            </div>
          </div>
          <div class="card">
            <div class="card-header">
              <div><div class="card-title">Top 10 Teams</div><div class="card-subtitle" id="top10Subtitle">by Points</div></div>
            </div>
            <div class="card-body chart-wrap">
              <div class="state" id="topChartState"><span class="spinner"></span>Loading‚Ä¶</div>
              <canvas id="topChart" style="display:none; max-height:220px"></canvas>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Full Ranking</div><div class="card-subtitle" id="dashTableSubtitle">sorted by Points</div></div>
            <div style="display:flex;gap:8px;align-items:center">
              <button class="btn btn-ghost dash-sort-btn" id="btnDashSortOrder" title="Toggle sort order">‚Üì Desc</button>
            </div>
          </div>
          <div class="card-body" style="padding:0">
            <div class="table-wrapper" style="max-height:600px" id="dashTableWrap">
              <div class="state" id="dashTableState">Loading‚Ä¶</div>
              <table id="dashTable" style="display:none"></table>
            </div>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           CHARTS & ANALYTICS
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-charts">
        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Analytics Dashboard</div><div class="card-subtitle">Visual breakdowns across metrics</div></div>
            <div class="controls-row">
              <div class="form-group"><label class="form-label">Region</label>
                <select id="chartRegionFilter" class="form-control" style="min-width:130px">
                  <option value="Global">Global</option>
                  <option value="EU">Europe</option>
                  <option value="AS/SIS/ESEA">Asia</option>
                  <option value="AM">Americas</option>
                </select>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="mini-grid">
              <div class="mini-panel"><h4>üî• Streak ‚Äî Top 10</h4>
                <div class="state" id="streakChartState"><span class="spinner"></span></div>
                <canvas id="streakChart" style="display:none"></canvas>
              </div>
              <div class="mini-panel"><h4>üèÖ Victories ‚Äî Top 10</h4>
                <div class="state" id="victoriesChartState"><span class="spinner"></span></div>
                <canvas id="victoriesChart" style="display:none"></canvas>
              </div>
              <div class="mini-panel"><h4>‚≠ê Prestige ‚Äî Top 10</h4>
                <div class="state" id="prestigeChartState"><span class="spinner"></span></div>
                <canvas id="prestigeChart" style="display:none"></canvas>
              </div>
              <div class="mini-panel"><h4>üéØ Majors ‚Äî by Team</h4>
                <div class="state" id="majorsChartState"><span class="spinner"></span></div>
                <canvas id="majorsChart" style="display:none"></canvas>
              </div>
              <div class="mini-panel" style="grid-column:1/-1"><h4>üìà Points ‚Äî Top 20 Line</h4>
                <div class="state" id="comparisonChartState"><span class="spinner"></span></div>
                <canvas id="comparisonChart" style="display:none; max-height:220px"></canvas>
              </div>
            </div>
          </div>
        </div>

        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Wins vs Losses</div><div class="card-subtitle">select a team</div></div>
            <select id="teamPieSelect" class="form-control" style="min-width:180px"></select>
          </div>
          <div class="card-body chart-wrap">
            <div class="state" id="teamPieState">Select a team above.</div>
            <canvas id="teamPieChart" style="display:none; max-height:280px"></canvas>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           GLOBAL RANKING (VRS style)
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-global">
        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Global Ranking</div><div class="card-subtitle">Sorted by Points ¬∑ Old vs New comparison</div></div>
            <div class="controls-row">
              <div class="form-group"><label class="form-label">Region</label>
                <select class="form-control" id="filterRegion" disabled style="min-width:130px"><option value="">All Regions</option></select>
              </div>
              <div class="form-group"><label class="form-label">Tier</label>
                <select class="form-control" id="filterTier" disabled style="min-width:110px">
                  <option value="">All Tiers</option>
                  <option value="Tier S">Tier S</option><option value="Tier 1">Tier 1</option>
                  <option value="Tier 2">Tier 2</option><option value="Tier 3">Tier 3</option>
                </select>
              </div>
              <div class="form-group"><label class="form-label">Search</label>
                <input class="form-control" id="filterText" type="text" placeholder="Team name‚Ä¶" disabled style="min-width:160px">
              </div>
              <div style="display:flex; align-items:flex-end;">
                <button class="btn btn-ghost" id="btnClearFilters" disabled>‚úï Clear</button>
              </div>
            </div>
          </div>
          <div class="table-wrapper">
            <table>
              <thead><tr>
                <th style="width:50px">#</th><th>Team</th><th class="right">Points</th>
                <th class="right">Œî Pts</th><th class="right">Streak</th><th>Region</th>
                <th>Tier</th><th class="right">Position Œî</th>
                <th class="right" style="font-size:10px">Old ‚Üí New</th>
              </tr></thead>
              <tbody id="tbody"><tr><td colspan="9" class="empty-state">No data yet. Files are loading‚Ä¶</td></tr></tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           REGIONAL RANKING
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-region">
        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Regional Ranking</div><div class="card-subtitle">Position changes computed within region</div></div>
            <div class="form-group"><label class="form-label">Select Region</label>
              <select class="form-control" id="regionRankingSelect" disabled><option value="">‚Äî</option></select>
            </div>
          </div>
          <div class="table-wrapper">
            <table>
              <thead><tr>
                <th style="width:50px">#</th><th>Team</th><th class="right">Points</th>
                <th class="right">Œî Pts</th><th class="right">Streak</th><th>Tier</th>
                <th class="right">Position Œî</th>
                <th class="right" style="font-size:10px">Old ‚Üí New</th>
              </tr></thead>
              <tbody id="tbodyRegion"><tr><td colspan="8" class="empty-state">Select a region to display its ranking.</td></tr></tbody>
            </table>
          </div>
          <div style="padding:12px 16px; border-top:1px solid var(--border); font-size:11px; color:var(--muted); font-family:var(--font-mono);">
            Movement (Old ‚Üí New) is calculated within the selected region.
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           MATCH PREDICTOR
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-predictor">
        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Match Predictor</div><div class="card-subtitle">ELO-based simulation with streak multiplier</div></div>
          </div>
          <div class="card-body">
            <div class="controls-row" style="margin-bottom:16px">
              <div class="form-group"><label class="form-label">Team A</label>
                <select class="form-control" id="matchTeamA" disabled><option value="">‚Äî Select ‚Äî</option></select>
              </div>
              <div style="display:flex; align-items:flex-end; padding-bottom:1px">
                <span style="font-family:var(--font-display); font-weight:800; color:var(--muted2); font-size:18px">VS</span>
              </div>
              <div class="form-group"><label class="form-label">Team B</label>
                <select class="form-control" id="matchTeamB" disabled><option value="">‚Äî Select ‚Äî</option></select>
              </div>
              <div class="form-group"><label class="form-label">Result</label>
                <select class="form-control" id="matchResult" disabled>
                  <option value="A">Team A wins</option><option value="B">Team B wins</option>
                </select>
              </div>
            </div>

            <div id="vsMeter" style="display:none; margin-bottom:16px">
              <div class="vs-display">
                <div class="vs-team">
                  <div class="vs-team-name" id="vsAName">‚Äî</div>
                  <div class="vs-team-pts" id="vsAPts">‚Äî</div>
                  <div class="text-xs text-muted mono" style="margin-top:4px">Win prob: <strong id="vsAProb">‚Äî</strong></div>
                </div>
                <div>
                  <div class="vs-divider">VS</div>
                  <div class="vs-prob-bar" style="width:120px; margin-top:8px">
                    <div class="vs-prob-a" id="vsProbBarA" style="width:50%"></div>
                    <div class="vs-prob-b" id="vsProbBarB" style="width:50%"></div>
                  </div>
                </div>
                <div class="vs-team">
                  <div class="vs-team-name" id="vsBName">‚Äî</div>
                  <div class="vs-team-pts" id="vsBPts">‚Äî</div>
                  <div class="text-xs text-muted mono" style="margin-top:4px">Win prob: <strong id="vsBProb">‚Äî</strong></div>
                </div>
              </div>
            </div>

            <div class="status-bar" id="matchStatus" style="margin-bottom:14px">
              <div class="status-dot"></div>
              <span>Select two teams to preview point and ranking changes.</span>
            </div>

            <div class="table-wrapper" style="max-height:40vh">
              <table>
                <thead><tr>
                  <th style="width:50px">Pos</th><th>Team</th><th class="right">Points</th>
                  <th class="right">Streak</th><th class="right">Œî Pts</th><th class="right">New Pts</th>
                  <th class="right">Movement</th>
                  <th class="right" style="font-size:10px">Old ‚Üí New</th>
                </tr></thead>
                <tbody id="tbodyMatchPredict"><tr><td colspan="8" class="empty-state">No selection yet.</td></tr></tbody>
              </table>
            </div>

            <div style="margin-top:10px; font-size:11px; color:var(--muted); font-family:var(--font-mono); line-height:1.6">
              Rules: ELO-based point transfer. K = 30 √ó (1 + streak bonus) √ó (1 + tournament bonus), capped at K√ó1.35.
              Win streak increments after win; resets to 0 after loss.
            </div>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           LEGENDS HALL
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-legends">
        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Legends Hall</div><div class="card-subtitle">Teams with 1700+ points</div></div>
            <select id="legendsRegionFilter" class="form-control" style="min-width:130px">
              <option value="Global">Global</option>
              <option value="AM">Americas</option>
              <option value="EU">Europe</option>
              <option value="AS/SIS/ESEA">Asia</option>
            </select>
          </div>
          <div class="card-body" style="padding:0">
            <div class="table-wrapper" id="legendsTableWrap">
              <div class="state" id="legendsTableState">Load data to see Legends.</div>
              <table id="legendsTable" style="display:none"></table>
            </div>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           VRS ANALYSIS
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-analysis-vrs">
        <div class="card">
          <div class="card-header">
            <div><div class="card-title">VRS Analysis</div><div class="card-subtitle">Automated insights from ranking comparison</div></div>
            <button class="btn btn-primary" id="btnRunVrsAnalysis" disabled>üß† Generate Analysis</button>
          </div>
          <div class="card-body">
            <div id="aiContentVrs">
              <div class="empty-state">Load ranking data and click <strong>Generate Analysis</strong> to see insights.</div>
            </div>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           DATA INSIGHTS (HLTV-style)
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-analysis-hltv">
        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Data Insights</div><div class="card-subtitle">Auto-generated from current dataset</div></div>
            <button class="btn btn-ai" id="btnRunHltvAnalysis" disabled>üî¨ Analyze Data</button>
          </div>
          <div class="card-body">
            <div class="ai-output" id="aiOutputHltv" style="min-height:80px"></div>
          </div>
        </div>
      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           PRO ANALYSES
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-pro-analyses">

        <!-- TAB SWITCHER -->
        <div class="pa-tabs">
          <button class="pa-tab active" data-pa-tab="history" onclick="switchPaTab('history')">
            <span class="pa-tab-icon">üìú</span>
            <span class="pa-tab-label">Match History</span>
            <span class="pa-tab-badge" id="paTabHistoryBadge"></span>
          </button>
        </div>

        <!-- ‚ïê‚ïê‚ïê MATCH HISTORY TAB ‚ïê‚ïê‚ïê -->
        <div class="pa-tab-content active" id="pa-tab-history">
          <div class="card">
            <div class="card-header">
              <div><div class="card-title">Match History</div><div class="card-subtitle">Filter and browse all recorded matches</div></div>
              <div style="display:flex;gap:8px;align-items:flex-end">
                <button class="btn btn-ghost" id="btnClearHistoryFilters">‚úï Clear Filters</button>
              </div>
            </div>
            <div class="card-body">
              <!-- FILTER ROW 1 -->
              <div class="pa-filters-grid">
                <div class="form-group pa-filter-group">
                  <label class="form-label">Team</label>
                  <div class="pa-autocomplete-wrap">
                    <input class="form-control" id="paFilterTeam" type="text" placeholder="Search team‚Ä¶ (add . for exact)" autocomplete="off">
                    <div class="pa-autocomplete-list" id="paTeamSuggestions"></div>
                  </div>
                </div>
                <div class="form-group pa-filter-group">
                  <label class="form-label">Opponent (H2H)</label>
                  <div class="pa-autocomplete-wrap">
                    <input class="form-control" id="paFilterOpponent" type="text" placeholder="Search opponent‚Ä¶ (add . for exact)" autocomplete="off">
                    <div class="pa-autocomplete-list" id="paOpponentSuggestions"></div>
                  </div>
                </div>
                <div class="form-group pa-filter-group">
                  <label class="form-label">Map</label>
                  <select class="form-control" id="paFilterMap"><option value="">All Maps</option></select>
                </div>
                <div class="form-group pa-filter-group">
                  <label class="form-label">Event</label>
                  <select class="form-control" id="paFilterEvent"><option value="">All Events</option></select>
                </div>
              </div>
              <!-- FILTER ROW 2 -->
              <div class="pa-filters-grid" style="margin-top:8px">
                <div class="form-group pa-filter-group">
                  <label class="form-label">Date</label>
                  <input class="form-control" id="paFilterDate" type="date">
                </div>
                <div class="form-group pa-filter-group">
                  <label class="form-label">Month</label>
                  <select class="form-control" id="paFilterMonth"><option value="">All Months</option></select>
                </div>
                <div class="form-group pa-filter-group">
                  <label class="form-label">Year</label>
                  <select class="form-control" id="paFilterYear"><option value="">All Years</option></select>
                </div>
                <div class="form-group pa-filter-group" style="display:flex; align-items:flex-end;">
                  <div class="pa-match-count" id="paMatchCount">0 matches</div>
                </div>
              </div>

              <!-- HISTORY TABLE -->
              <div class="table-wrapper" style="max-height:55vh; margin-top:14px">
                <table id="paHistoryTable">
                  <thead><tr>
                    <th>Date</th><th>Team 1</th><th class="center">Result</th><th>Team 2</th>
                    <th>Map</th><th>Event</th><th class="center">Outcome</th>
                  </tr></thead>
                  <tbody id="paHistoryBody">
                    <tr><td colspan="7" class="empty-state">Load history.xlsx to see matches.</td></tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>

      </div>

      <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
           H2H ANALYSIS (Intelligence)
      ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
      <div class="panel" id="panel-h2h">
        <div class="card">
          <div class="card-header">
            <div><div class="card-title">Head-to-Head Analysis</div><div class="card-subtitle">Select two teams for detailed comparison</div></div>
          </div>
          <div class="card-body">
            <div class="controls-row" style="margin-bottom:16px">
              <div class="form-group">
                <label class="form-label">Team A</label>
                <div class="pa-autocomplete-wrap">
                  <input class="form-control" id="h2hTeamA" type="text" placeholder="Search team‚Ä¶" autocomplete="off">
                  <div class="pa-autocomplete-list" id="h2hTeamASugg"></div>
                </div>
              </div>
              <div style="display:flex; align-items:flex-end; padding-bottom:1px">
                <span style="font-family:var(--font-display); font-weight:800; color:var(--muted2); font-size:18px">VS</span>
              </div>
              <div class="form-group">
                <label class="form-label">Team B</label>
                <div class="pa-autocomplete-wrap">
                  <input class="form-control" id="h2hTeamB" type="text" placeholder="Search team‚Ä¶" autocomplete="off">
                  <div class="pa-autocomplete-list" id="h2hTeamBSugg"></div>
                </div>
              </div>
              <div style="display:flex; align-items:flex-end;">
                <button class="btn btn-primary" id="btnH2hAnalyze">üéØ Analyze</button>
              </div>
            </div>
            <div id="h2hOutput">
              <div class="empty-state">Select two teams and click <strong>Analyze</strong> to see head-to-head insights.</div>
            </div>
          </div>
        </div>
      </div>
    </div><!-- /panels -->
  </main>
</div>

<script src="assets/app.js"></script>
</body>
</html>
